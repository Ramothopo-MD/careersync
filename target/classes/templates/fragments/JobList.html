
<!-- MAIN CONTAINER -->
<div class="container mt-5 pt-5" th:fragment="JobList" xmlns:th="http://www.thymeleaf.org">

  <!-- PAGE HEADING -->
  <h2 class="text-center mb-4">Available Job Opportunities</h2>

  <!-- FILTER / SEARCH SECTION -->
  <div class="row mb-4">

    <!-- Search by Job Title -->
    <div class="col-md-3 mb-2">
      <input type="text" class="form-control" placeholder="Search by job title..." id="jobSearch">
    </div>

    <!-- Filter by Company -->
    <div class="col-md-3 mb-2">
      <select class="form-select" id="companyFilter">
        <option value="">All Companies</option>
        <option th:each="company : ${companies}"
                th:value="${company}"
                th:text="${company}">
        </option>
      </select>
    </div>

    <!-- Filter by Location -->
    <div class="col-md-3 mb-2">
      <select class="form-select" id="locationFilter">
        <option value="">All Locations</option>
        <option th:each="location : ${locations}"
                th:value="${location}"
                th:text="${location}">
        </option>
      </select>
    </div>

    <!-- Filter by Job Type -->
    <div class="col-md-2 mb-2">
      <select class="form-select" id="jobTypeFilter">
        <option value="">All Job Types</option>
        <option th:each="type : ${jobTypes}"
                th:value="${type}"
                th:text="${type}">
        </option>
      </select>
    </div>

    <!-- Apply Button -->
    <div class="col-md-1 mb-2">
      <button class="btn btn-primary w-100" onclick="filterJobs()">Apply</button>
    </div>

  </div>



  <!-- JOB CARDS -->
  <div class="row g-4" id="jobsContainer">
    <div class="col-md-6 col-lg-4" th:each="job : ${jobs}">
      <div class="card h-100 shadow-sm">

        <!-- Company Logo / Image -->
        <img th:src="${job.companyLogo != null ? job.companyLogo : '/images/default-job.png'}"
             class="card-img-top"
             alt="Company Logo"
             style="height:180px; object-fit:cover;">

        <div class="card-body d-flex flex-column">

          <h5 class="card-title" th:text="${job.title}">Job Title</h5>
          <h6 class="card-subtitle mb-2 text-muted" th:text="${job.companyName}">Company Name</h6>

          <!-- Short Description -->
          <p class="card-text mt-2" th:text="${#strings.abbreviate(job.jobDescription, 120)}">
            Job description preview...
          </p>

          <p class="mb-1">
            <strong>Reference:</strong>
            <span th:text="${job.refNo}"></span>
          </p>

          <p class="mb-3">
            <strong>Closing Date:</strong>
            <span th:text="${#dates.format(job.closingDate, 'dd MMM yyyy')}"></span>
          </p>

          <div class="mt-auto">
            <a th:href="@{/careerSync/view-job/{refNo}(refNo=${job.refNo})}"
               class="btn btn-primary w-100">
              Learn More
            </a>

          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- PAGINATION (Optional) -->
  <!--
  <nav class="mt-5">
      <ul class="pagination justify-content-center">
          <li class="page-item"><a class="page-link" href="#">Previous</a></li>
          <li class="page-item"><a class="page-link" href="#">1</a></li>
          <li class="page-item"><a class="page-link" href="#">2</a></li>
          <li class="page-item"><a class="page-link" href="#">Next</a></li>
      </ul>
  </nav>
  -->

</div>